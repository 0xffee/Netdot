<%doc>
Generates a Jack ID based upon Building, Closet, and a user supplied jack number.

The format for a Jack ID is: <building number><closet><jack number>
i.e.  017B026B
</%doc>


<%args>
$closetid
$jackno
$name
</%args>

<html>
<body>
<script language="JavaScript">
<!--
<%perl>
my ($closet, $site);

$closet = Closet->retrieve($closetid);
$site = $closet->site || $closet->floor->site;
my $jackid;

if ( $site && $closet ){
    # Make site number three digits.  Pad with leading zeroes if necessary.
    my $sitenum = sprintf ("%3.3d", $site->number);
    $jackid = sprintf("%s%s%s", $sitenum, $closet->name, $jackno);
}
printf("opener.document.horizform.__jackid.value = \"%s\";\n", $jackid);
printf("opener.document.horizform.%s.value = \"%s\";\n", $name, $jackid);
printf("window.close();\n");
</%perl>
-->
</script>
</body>
</html>
