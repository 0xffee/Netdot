
<& header, title => "Update device $device"  &>

<%perl>

if ( ! ($id = (Device->search(name => "$device"))[0]) ){
   print "<br><STRONG>Device $device not found on db.  Run discovery instead</STRONG>";
   return;
}else{

open OUTPUT, "$PREFIX/bin/updatedevices.pl -n $device -v|"
                or die "can't fork: $!";

</%perl>
<table width="90%" align="center">
 <tr><td>
    <font size="-1">
%   while (<OUTPUT>){
     <% $_ %><br>
%   }
   </font>
   <p>
   <A HREF="view.html?table=Device&id=<% $id %>">Go to <% $device %></A>
 </tr></td>
</table>

<& footer &>
%}

<%args>

$PREFIX => "/usr/local/netdot"
$id => undef
$DEBUG => 0
$device => $ARGS{device}

</%args>

<%init>

</%init>

<%doc>

Web interface for bin/updatedevices.pl

</%doc>
