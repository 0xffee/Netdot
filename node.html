<%perl>
my %args;
foreach my $j ( keys %ARGS ) {
  next if( $ARGS{$j} !~ /\w+/ || $j eq "submit" );
  $args{$j} = $ARGS{$j};
}
</%perl>
% if( exists( $args{node} ) ) {
  <& header, title => "Node" &>
  <p><% $args{node} %>
%   $nv->build_config( "device", $args{node} );
%   if( my( %node ) = $nv->get_device( "device", $args{node} ) ) {
%     if( %node ) {
% #      <& test2.html, discover => \%node &>
%       print string_config( "device", $args{node} );
%     } else {
        <p>Failed to get config.
%     }
%   } else {
      <p>Failed to build config.
%   }
% } else {
  <& header, title => "Node" &>
  <br>
  <blockquote>
  <form action="node.html" method="POST">
  <input type="text" name="node" size="30" value="">
  <input name="submit" value="Discover" type="submit">
  </form>
  </blockquote>
  <& footer &>
% }

<%args>
$nv => Netdot::Netviewer->new();
</%args>
<%init>
use lib "/home/netdot/public_html/lib";
use Netdot::DBI;
use Netdot::Netviewer;
use Data::Dumper;


</%init>
<%doc>

Node discovery & updates

######################################################################
#  $Log: node.html,v $
#  Revision 1.5  2003/06/17 00:03:11  netdot
#  bugger if i know
#
#  Revision 1.4  2003/06/12 23:50:06  netdot
#  more work -- probably moving to create.html
#
#  Revision 1.3  2003/06/12 00:52:58  netdot
#  *** empty log message ***
#
#  Revision 1.2  2003/06/11 22:43:55  netdot
#  working on integrating netviewer & netdot
#
#  Revision 1.1  2003/06/11 16:19:21  netdot
#  Initial revision
#

</%doc>
