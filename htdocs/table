<%perl>
foreach my $j ( keys %ARGS ) {
  next if( $ARGS{$j} !~ /\w+/ || $j eq "submit" );
  $args{$j} = $ARGS{$j};
}
$WIDTH = $args{width} if( exists( $args{width} ) );
$LINK  = $args{link}  if( exists( $args{link} ) );
$TITLE = $args{title} if( exists( $args{title} ) );
map { push @tbls, $_ } sort { $a cmp $b } $ui->gettables;
$MAX = scalar( @tbls );
</%perl>

<table border="0" cellspacing="0" cellpadding="0" width="100%">
<tr>
<td>
   <table border="1" cellspacing="0" cellpadding="0" width="90%" class="tablebackground">
   <tr><td colspan="3" bgcolor="#6ab1f0" class="rowtitle0"><b><% $TITLE %></b></td></tr>
   <tr><td>
       <table border="0" cellspacing="3" cellpadding="1" width="100%" class="tablebackground">
       <tr>
% for (my($i)=0; $i < $MAX; $i++ ) {
%   if( $i % $WIDTH == 0 && $i != 0 ) { 
       </tr>
       <tr>
%   }
       <td><a href="<% $LINK %>?table=<% $tbls[$j] %>"><% $tbls[$j] %></a></td>
%   if( ( ( $i ) % $WIDTH ) < ( $MAX % $WIDTH ) ) {
%     $j += int( $MAX / $WIDTH ) + 1;
%   } else {
%     $j += int( $MAX / $WIDTH );
%   }
%   if( $j >= $MAX ) {
%     $j -= ( $MAX - 1 );
%   } 
% }
       </tr>
       </table>
   </tr>
   </table>
</td>
</tr>   
</table>
<%args>
$j => 0
%args => undef
$WIDTH => 2
$LINK => "browse.html"
@tbls => ()
$TITLE => undef
$MAX => 0
</%args>
<%init>
my $ui = Netdot::UI->new();

</%init>

<%doc>

Simple component to display all objects in a pretty table.

Arguments:  

    width  -  width of the table (# of columns) (default = 2)
    link   -  page to go to for HREFs
    title  -  title of the table

######################################################################
#  $Log: table,v $
#  Revision 1.7  2003/07/11 00:47:13  netdot
#  Modified to use Netdot::GUI and not call Meta directly
#
#  Revision 1.6  2003/06/18 16:42:24  netdot
#  fixed bug in how this goes through a list of items
#
#  Revision 1.5  2003/06/17 23:24:57  netdot
#  *** empty log message ***
#
#  Revision 1.4  2003/06/17 18:40:43  netdot
#  added css references -miyake
#
#  Revision 1.3  2003/05/30 22:58:44  netdot
#  reset default WIDTH to 2 (from 3)
#
#  Revision 1.2  2003/05/30 21:41:08  netdot
#  looks like requisite functionality is there
#
#  Revision 1.1  2003/05/30 21:26:36  netdot
#  Initial revision
#

</%doc>
