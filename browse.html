<%perl>
foreach my $j ( keys %ARGS ) {
  next if( $ARGS{$j} !~ /\w+/ || $j eq "submit" );
  $args{$j} = $ARGS{$j};
}
</%perl>

<& header, title => "Browse" &>

% if( ! exists( $args{table} ) ) {
%   my( @t );
%   map { push @t, $_ unless( $_->name eq "Meta" ) } 
%     sort { $a->name cmp $b->name } Meta->retrieve_all();
    <p>
    <blockquote>
    <& table.html, width => $WIDTH, link => "browse.html", title => "Please select an object to browse:" &>
    </blockquote>
% } else {
%   my $TBL = $args{table};
%   my @r = $TBL->retrieve_all();
    <table cellpadding="0" border="0" bgcolor="#CCCCCC">
    <tr>
    <td><strong><% $TBL %></strong>
    <& sortresults.html, table => $TBL, object => \@r &>
    </td>
    </tr>
    </table>
% }

<& footer &>

<%init>
use lib "/home/netdot/public_html/lib";
use Netdot::DBI;
my( %args, $MAX, $WIDTH );
$MAX = 20;
$WIDTH = 2;

</%init>

<%doc>


######################################################################
#  $Log: browse.html,v $
#  Revision 1.4  2003/05/30 22:57:11  netdot
#  replaced opening page with component from table.html
#
#  Revision 1.3  2003/05/29 23:26:15  netdot
#  basic functionality there....
#
#  Revision 1.2  2003/05/29 22:26:27  netdot
#  put in inital <%init> section
#
#  Revision 1.1  2003/05/29 22:24:24  netdot
#  Initial revision
#

</%doc>
