<%doc>

 Reports Section.

</%doc>
%
%
<%args>
$user
</%args>
%
%
<%attr>
title   => 'Reports' 
section => 'Reports'
</%attr>
%
%
<%shared>
my $PAGE_ATTRIBUTE = "REPORTS_PAGE";
my $SECTION = "Reports";
</%shared>
%
%
<%init>
my %caller_args = $m->caller_args(-1);

if (exists($caller_args{page})){
    $user->setAttribute($r, "$PAGE_ATTRIBUTE", $caller_args{page});
}

my $page = $user->getAttribute("$PAGE_ATTRIBUTE");
</%init>

<%method .section_meta_data>
    <%doc>
        Returns the meta data used to generate this sections header in section1.mhtml
    </%doc>
    <%init>
        return {  
	    section      => $SECTION,
	    page         => 'reports/',
	    title        => 'Reports',
	    attribute    => $PAGE_ATTRIBUTE,
	    sub_sections => [
		{ section => 'DEVICE',   title => 'Device Inventory' },
		{ section => 'CUSTOM',   title => 'Custom Reports' },
		{ section => 'DATABASE', title => 'Database Reports' },
	    ]
        };
    </%init>
</%method>

<%perl>

if ($page eq "DEVICE") {
	
	$m->comp('reports_device_inventory.html');

} elsif ($page eq "CUSTOM") { 
    
    
} elsif ($page eq "DATABASE") {
</%perl>	
	<div class="container">
	<div class="containerhead">Database Reports</div>
	<div class="containerbody">
	
	<br>
	<a href="reports_tablestats.html">Table Information</a><br>
	Shows information about all the tables in the database including size, number of rows, and last update times.<br>
	
	<br>
	<a href="database-graph.html">Database Relationships</a><br>
	Displays a GraphViz graph of the Netdot database schema.<br>
	
	<br>
	<br>
	
	</div>
	</div>
<%perl>
    }


if ( $m->fetch_next ){
    $m->call_next;
}
</%perl>
